{"data":{"site":{"siteMetadata":{"title":"Whien's Dev Blog","author":"Whien"}},"markdownRemark":{"id":"d492a0d5-1a5f-5bba-8b2f-2fa510e244a4","excerpt":"Elastic Beanstalk 簡介 Elastic Beanstalk 簡稱 EB，是由 AWS 提供的快速建置並部署環境服務，只要簡單的幾個設定檔，就能輕輕鬆鬆建立好伺服器環境。 Nginx Nginx 是個強大的負載平衡代理伺服器，會負責管理與分配我們的請求與回應，在建立 EB…","html":"<p><img src=\"https://i.imgur.com/AyNenTs.jpg\" alt=\"Photo by Todd Quackenbush on Unsplash\"></p>\n<h1>Elastic Beanstalk 簡介</h1>\n<p>Elastic Beanstalk 簡稱 EB，是由 AWS 提供的快速建置並部署環境服務，只要簡單的幾個設定檔，就能輕輕鬆鬆建立好伺服器環境。</p>\n<h1>Nginx</h1>\n<p>Nginx 是個強大的負載平衡代理伺服器，會負責管理與分配我們的請求與回應，在建立 EB 伺服器時，可以預設是否使用 Nginx 當代理伺服器。</p>\n<h1>Client Max Body Size</h1>\n<p>client-max-body-size 是 Nginx 中一個設定，能夠指定當有資料進來時，能夠接收的大小有多少，而 EB 在 Nginx 中預設似乎為 1MB，因此導致某個服務在上傳檔案時，發生「413 Request Entity Too Large」，請求資料大小過載的問題，因此開始了尋找解答之旅。</p>\n<h1>網路上找解答</h1>\n<p>找了非常多網路上的資源，都看到類似以下片段</p>\n<div class=\"gatsby-highlight\" data-language=\"config\"><pre class=\"language-config\"><code class=\"language-config\">files:\n  &quot;/etc/nginx/conf.d/proxy.conf&quot;:\n    mode: &quot;000644&quot;\n    owner: root\n    group: root\n    content: |\n      client_max_body_size 10M;\n\ncontainer_commands:\n  01_reload_nginx:\n    command: &quot;service nginx reload&quot;</code></pre></div>\n<p>但怎麼試就是不行，一直沒有產生效果。</p>\n<h1>建立 .ebextensions 目錄</h1>\n<p>後來看討論後發現原來是要先在專案的目錄底下建立 <code class=\"language-text\">.ebextensions</code> 資料夾</p>","frontmatter":{"title":"修改 AWS Elastic Beanstalk Nginx Proxy Config","date":"April 12, 2019","description":"AWS Elastic Beanstalk enviroment 建立時會有預設 client_max_body_size 1MB 的大小限制，找了好多網路答案，最後還是在 AWS 的文件中翻到解答","featuredImage":{"publicURL":"/static/titleImage-b7703eb36784c5e92d49be12e3caf415.jpg"}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/修改 AWS Elastic Beanstalk Nginx Proxy Config/","previous":{"fields":{"slug":"/透過 Web IntersectionObserver API 優化網站圖片/"},"frontmatter":{"title":"透過 Web IntersectionObserver API 優化網站圖片"}},"next":null}}